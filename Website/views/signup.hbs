<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
</head>
<body>

    <section class="vh-126 gradient-custom">
    <div class="container py-5 h-100">
        <div class="row justify-content-center align-items-center h-100">
            <div class="col-12 col-lg-9 col-xl-7">
                <div class="card shadow-2-strong card-registration" style="border-radius: 15px;">
                    <div id="form-align" class="card-body p-4 p-md-5">
                        <h3 class="mb-4 pb-2 pb-md-0 mb-md-5">Create your account.</h3>
                        {{#if err}}
                        <p class="text-danger mb-5">{{err-label}}</p>
                        {{else}}
                        <p class="text-dark-50 mb-5">Enter your details.</p>
                        {{/if}}
                        <form id="form-align" onsubmit="return onSubmit()" action="/submit-reg" method="POST">


                            <div class="col-md-6 mb-4">

                                <div class="form-outline">
                                    <input type="text" name="username" id="username" placeholder="Name"
                                        class="form-control form-control-lg" />
                                </div>

                            </div>



                            <div class="col-md-6 mb-4">

                                <div class="form-outline">
                                    <input type="text" name="email" placeholder="Email" id="email"
                                        class="form-control form-control-lg" />

                                </div>

                            </div>




                            <div class="col-md-6 mb-4">
                                <div class="row">
                                    <div class="form-outline">
                                        <input type="password" name="password" id="password"
                                            class="form-control form-control-lg" placeholder="Password">

                                    </div>

                                </div>

                            </div>

                            <div class="mt-4 pt-2">
                                <input class="btn btn-primary btn-lg" type="submit" value="Signup">
                            </div>

                            <p class="mb-5 pb-lg-2 mt-5">Already have an account? <a class="text-danger-50" href="/">Login</a></p>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>

    
    var nameflag = false, emailflag = false,  passwordflag = false;

    $(document).ready(function () {
      $('.navbar-collapse a').click(function () {
        $(".navbar-collapse").collapse('hide');
      });

      $("#password").on('input', function () {
        

        var name = $(this).val()
        if (name.length < 4 || name.includes(' ')) {
          $(this).css({ "box-shadow": "0 0 6px red" })
          $("#name-warning").show()
          passwordflag = 0;
        }
        else {
          $(this).css({ "box-shadow": "0 0 6px green" })
          $("#name-warning").hide()
          passwordflag = 1;
        }
      })

      $("#username").on('input', function () {
        this.value = this.value.replace(/[^ a-zA-Z]/, '');

        var name = $(this).val()
        if (name.length < 3 || name.includes('  ') || name.charAt(0) == ' ') {
          $(this).css({ "box-shadow": "0 0 6px red" })
          $("#name-warning").show()
          nameflag = 0;
        }
        else {
          $(this).css({ "box-shadow": "0 0 6px green" })
          $("#name-warning").hide()
          nameflag = 1;
        }
      })



      


      




      function validateEmail(email) {
        var emailReg = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return emailReg.test(email);
      }

      $("#email").on('input', function () {
        var email = $(this).val()

        if (!validateEmail(email) || email == '') {
          $("#email-warning").show()
          $(this).css({ "box-shadow": "0 0 6px red" })
          emailflag = 0;
        }
        else {
          $("#email-warning").hide()
          $(this).css({ "box-shadow": "0 0 6px green" })
          emailflag = 1;
        }
      })
    })


    function onSubmit(){

         if (nameflag == 1 && emailflag == 1 &&  passwordflag == 1) {
             return true

         }else{
             
             alert("Enter valid details!")
             return false
         }


    }


  </script>

    
</body>
</html>



